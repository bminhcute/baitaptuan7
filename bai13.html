<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Responsive 3-2-1 Column Layout</title>
  <style>
    /* Reset */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    /* Basic styling for header, footer, aside, main */
    body {
      font-family: Arial, sans-serif;
    }
    header, footer {
      text-align: center;
      color: #fff;
      padding: 20px;
    }
    header {
      background-color: #444; /* Dark gray */
    }
    footer {
      background-color: #555; /* Slightly darker gray */
    }
    aside, main {
      padding: 20px;
      color: #fff;
    }
    .aside1 {
      background-color: #ffca28; /* Yellowish */
    }
    .aside2 {
      background-color: #ec407a; /* Pinkish */
    }
    main {
      background-color: #29b6f6; /* Light blue */
    }

    /* Container for the three columns */
    .middle-container {
      display: flex;          /* By default, three columns side by side */
      min-height: 300px;      /* Just for demo, can remove or adjust */
    }
    .aside1, .aside2, main {
      flex: 1;                /* Each column shares available space equally */
    }

    /* ========== MEDIA QUERIES ========== */

    /* Under 1200px => 2 columns (Aside1 + Main together, Aside2 below) */
    @media (max-width: 1200px) {
      .middle-container {
        flex-wrap: wrap;         /* Allow columns to wrap */
      }
      .aside1, main {
        flex: 1 1 50%;           /* Together they form 2 columns in one row */
      }
      .aside2 {
        flex: 1 1 100%;          /* Moves to its own row below */
      }
    }

    /* Under 600px => 1 column (stack all: Aside1, Main, Aside2) */
    @media (max-width: 600px) {
      .middle-container {
        flex-direction: column;  /* Stack vertically */
      }
      .aside1, main, .aside2 {
        flex: 1 1 100%;
      }
    }
  </style>
</head>
<body>

  <header>
    <h1>Header</h1>
  </header>

  <div class="middle-container">
    <aside class="aside1">Aside 1<br><br>
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. 
      Repellendus, quam.
    </aside>

    <main>
      Main Content<br><br>
      This is the main content area. It might contain a long text passage:
      <p>
        “Flexbox Layout (Flexible Box) is a layout model in CSS that allows 
        items in a container to be aligned and distributed in space more efficiently.”
      </p>
    </main>

    <aside class="aside2">Aside 2<br><br>
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. 
      Repellendus, quam.
    </aside>
  </div>

  <footer>
    <p>Footer</p>
  </footer>

</body>
</html>
